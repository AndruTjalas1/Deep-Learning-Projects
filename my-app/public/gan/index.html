<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DCGAN Generator - Cats & Dogs</title>

    <!-- ENSURE all internal static files load under /gan/ -->
    <base href="/gan/">

    <!-- Inject API override BEFORE the JS bundle loads -->
    <script>
      // Choose backend dynamically like RNN
      window.API_BASE = (location.hostname.endsWith("vercel.app"))
        ? "https://gan-production.up.railway.app"
        : "http://localhost:8001";

      // Patch axios default baseURL used in the bundle
      // (because bundle hardcodes http://localhost:8000)
      Object.defineProperty(window, "GAN_API_BASE", {
        value: window.API_BASE,
        writable: false
      });

      // Intercept axios.create to replace localhost with Railway
      const _axiosCreate = axios.create;
      axios.create = function(config) {
        if (config && config.baseURL && config.baseURL.includes("localhost")) {
          config.baseURL = window.GAN_API_BASE;
        }
        return _axiosCreate(config);
      };
    </script>

    <!-- Load static files generated by Vite build -->
    <script defer src="/gan/static/js/index-ChtUdvM5.js"></script>
    <link href="/gan/static/css/index-BtKgAt-B.css" rel="stylesheet" />
  </head>

  <body>
    <div id="root"></div>
  </body>
</html>
